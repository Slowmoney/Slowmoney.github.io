(function(t){function e(e){for(var s,c,r=e[0],o=e[1],l=e[2],u=0,m=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&m.push(i[c][0]),i[c]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},i={app:0},n=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},3834:function(t,e,a){"use strict";var s=a("cbac"),i=a.n(s);i.a},"3d8e":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"block"},[a("Nav",{attrs:{mode:t.nav.mode,toOpen:t.toOpen},on:{filter:t.filter,sort:t.sort,back:t.back,add:t.add,edit:t.edit}}),t.contactListNull?a("div",{staticClass:"wrap"},[t.toOpen.show?t._e():a("div",{staticClass:"block-contacts"},[a("ContactsList",{on:{"open-contact":t.open}})],1),t.toOpen.show&&"navigate"==t.nav.mode?a("div",{staticClass:"block-view"},[a("Contact",{attrs:{contactid:t.toOpen.id}})],1):t._e()]):t._e(),t.toOpen.show&&"add"==t.nav.mode?a("div",{staticClass:"block-create"},[a("CreateEdit",{attrs:{contactid:t.toOpen.id,mode:t.toOpen.mode},on:{remove:t.remove,save:t.save}})],1):t._e()],1)])},n=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact"},[t._l(t.getSearch,(function(e,s){return[a("div",{key:s,staticClass:"contact-item",on:{click:function(a){return t.$emit("open-contact",e.id)}}},[e.hr?a("div",{staticClass:"contact-item-hr"},[a("span",[t._v(t._s(e.first_name[0]))])]):t._e(),a("div",{staticClass:"contact-item-name"},[a("span",{staticClass:"contact-item-name__title"},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))])])])]}))],2)},r=[],o=a("5530"),l=a("2f62"),d={name:"ContactsList",props:{},data:function(){return{}},computed:Object(o["a"])({},Object(l["b"])(["getContacts","getSortContacts","getSearch"])),methods:{openContact:function(t){console.log(t)}}},u=d,m=(a("ba60"),a("2877")),v=Object(m["a"])(u,c,r,!1,null,"1d4e2060",null),f=v.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0!=t.contactid?a("div",{staticClass:"view"},[a("div",{staticClass:"view-edit-foto"},[a("div",{staticClass:"view-edit-foto__img"},[t.contact.foto?a("img",{attrs:{src:t.contact.foto}}):t._e()])]),a("hr",{staticClass:"view-edit-hr"}),a("div",{staticClass:"view-edit"},[a("div",{class:"view-edit-name"},[a("div",{class:"view-edit-name__label"},[t._v(t._s(t.contact.first_name)+" "+t._s(t.contact.last_name))])])]),a("hr",{staticClass:"view-edit-hr"}),a("div",{staticClass:"view-edit"},[a("div",{class:"view-edit-number"},[a("div",{class:"view-edit-number__label"},[t._v(" "+t._s(t.lang[7])+" "),a("br"),t._v(" "+t._s(t.contact.number)+" ")])])]),a("hr",{staticClass:"view-edit-hr"}),a("div",{staticClass:"view-edit"},[a("div",{class:"view-edit-email"},[a("div",{class:"view-edit-email__label"},[a("span",{class:"view-edit-email__title"},[t._v(t._s(t.lang[3])+":")]),a("span",{class:"view-edit-email__value"},[t._v(t._s(t.contact.email))])])])]),a("hr",{staticClass:"view-edit-hr"}),a("div",{staticClass:"view-edit"},[a("div",{class:"view-edit-birsday"},[a("div",{class:"view-edit-birsday__label"},[a("span",{class:"view-edit-birsday__title"},[t._v(t._s(t.lang[4])+":")]),a("span",{class:"view-edit-birsday__value"},[t._v(t._s(t.contact.birsday))])])])]),a("hr",{staticClass:"view-edit-hr"}),a("div",{staticClass:"view-edit"},[a("div",{class:"view-edit-website"},[a("div",{class:"view-edit-website__label"},[a("span",{class:"view-edit-website__title"},[t._v(t._s(t.lang[5])+":")]),a("span",{class:"view-edit-website__value"},[t._v(t._s(t.contact.website))])])])]),a("hr",{staticClass:"view-edit-hr"})]):t._e()},h=[],_=(a("a9e3"),{name:"Contact",props:{contactid:{type:Number,required:!0}},beforeCreate:function(){this.$store.getters.getLength},data:function(){return{lang:["Id","Имя","Фамилия","E-mail","Дата рождения","Веб сайт","Фото","Номер"]}},methods:{},computed:{contact:function(){return this.$store.getters.getContactById(this.contactid)}}}),g=_,b=(a("b00f"),Object(m["a"])(g,p,h,!1,null,"190cd6a1",null)),C=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"nav"},["navigate"==t.mode?[a("div",{staticClass:"nav-item-left"},[a("BackIcon",{staticClass:"nav-item-back",on:{click:function(e){return t.$emit("back")}}})],1),a("div",{staticClass:"nav-item-right"},[a("EditIcon",{staticClass:"nav-item-edit",on:{click:function(e){return t.$emit("edit")}}}),a("AddNewIcon",{staticClass:"nav-item-add",on:{click:function(e){return t.$emit("add")}}})],1)]:"add"==t.mode?[a("div",{staticClass:"nav-item-left"},[a("BackIcon",{staticClass:"nav-item-back",on:{click:function(e){return t.$emit("back")}}})],1),a("div",{staticClass:"nav-item-center"},[t._v(t._s(t.toOpen.mode))])]:[a("div",{staticClass:"nav-sort",on:{click:t.selectSort}},[t._v(t._s(t.sortMode[0].toUpperCase()))]),a("div",{staticClass:"nav-filter",on:{click:t.selectFilter}},[t._v(t._s(t.filterName))]),a("div",{staticClass:"nav-search"},[a("SearchIcon"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchS,expression:"searchS"}],staticClass:"nav-search__input",domProps:{value:t.searchS},on:{input:[function(e){e.target.composing||(t.searchS=e.target.value)},t.search]}})],1),a("AddNewIcon",{staticClass:"nav-item-add",on:{click:function(e){return t.$emit("add")}}})]],2)},y=[],O=a("57e5"),S=a("758f"),x=a("d902"),$=function(t,e){var a=e._c;return a("span",e._g(e._b({staticClass:"material-design-icon search-icon",class:[e.data.class,e.data.staticClass],attrs:{"aria-hidden":e.props.decorative,"aria-label":e.props.title,role:"img"}},"span",e.data.attrs,!1),e.listeners),[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -5 24 24",fill:"white",width:"24px",height:"24px"}},[a("path",{attrs:{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}}),a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])])},k=[],N={name:"SearchIcon",props:{title:{type:String,default:"Search icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},j=N,I=Object(m["a"])(j,$,k,!0,null,null,null),M=I.exports;a("4de4"),a("7db0"),a("c740"),a("4160"),a("c975"),a("d81d"),a("a434"),a("b64b"),a("ac1f"),a("841c"),a("1276"),a("159b");s["a"].use(l["a"]);var E=new l["a"].Store({state:{contacts:[],search:"",sortMode:"first_name",filterName:"",contactTags:["friends","boss","collegs"]},getters:{getContacts:function(t){return t.contacts},getContactById:function(t){return function(e){return t.contacts.find((function(t){return t.id===e}))}},getSortContacts:function(t){var e={first_name:function(t,e){return t.first_name<e.first_name?-1:t.first_name>e.first_name?1:0},last_name:function(t,e){return t.last_name<e.last_name?-1:t.last_name>e.last_name?1:0},birsday:function(t,e){var a=new Date(t.birsday),s=new Date(e.birsday);return a.getMonth()<s.getMonth()||a.getDate()<s.getDate()?-1:a.getMonth()>s.getMonth()||a.getDate()>s.getDate()?1:0}},a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first_name",s=t.contacts,i=new Date,n=i.getMonth(),c=i.getDate();return"birsday"==a&&(s=t.contacts.filter((function(t){return t.birsday.split("-")[1]>n?t.birsday.split("-")[2]<c?0:1:0}))),s.sort(e[a])},s=a(t.sortMode),i="";return s.forEach((function(t){i!=t.first_name[0]&&(t.hr=!0,i=t.first_name[0])})),-1!==t.contactTags.indexOf(t.filterName)&&(s=s.filter((function(e){return!!e.tags&&-1!==e.tags.indexOf(t.filterName)}))),s},getSearch:function(t,e){return e.getSortContacts.filter((function(e){return-1!==(e.first_name+" "+e.last_name).toLowerCase().indexOf(t.search.toLowerCase())}))},getLength:function(t){return t.contacts.length}},mutations:{setSearchString:function(t,e){t.search=e},addNew:function(t,e){console.log(e.id,t.contacts.length),e.id=t.contacts.length+1,console.log(e.id,t.contacts.length),t.contacts.push(e),console.log(t)},edit:function(t,e){var a=t.contacts.find((function(t){return t.id===e.id}));Object.keys(e).map((function(t){a[t]=e[t]}))},save:function(t){localStorage.contacts=JSON.stringify(t.contacts)},remove:function(t,e){t.contacts.splice(t.contacts.findIndex((function(t){return t.id===e})),1)},load:function(t){try{t.contacts=JSON.parse(localStorage.contacts)}catch(e){console.log("Контакты ещё не сохранены на этом ПК")}},nextSort:function(t){var e=["first_name","last_name","birsday"],a=e.indexOf(t.sortMode)+1;a=a>=e.length?0:a,t.sortMode=e[a]},nextFilter:function(t){var e=t.contactTags.indexOf(t.filterName)+1;e=e>t.contactTags.length?0:e,t.filterName=t.contactTags[e]?t.contactTags[e]:""}},actions:{},modules:{}}),P={name:"Nav",props:{contactid:Number,mode:String,searchStr:String,toOpen:Object},components:{BackIcon:O["a"],AddNewIcon:S["a"],EditIcon:x["a"],SearchIcon:M},data:function(){return{searchS:""}},methods:{selectSort:function(){this.$emit("sort")},selectFilter:function(){this.$emit("filter")},search:function(t){E.commit("setSearchString",t.srcElement.value)}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["setSearchString"])),Object(l["d"])(["sortMode","filterName"]))},T=P,L=(a("bab6"),Object(m["a"])(T,w,y,!1,null,"2e75ce22",null)),D=L.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"create",on:{submit:t.pushContact}},[a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-foto"},[t._v(" "+t._s(t.lang[6])+" URL: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.foto,expression:"create.foto"}],staticClass:"create-edit-foto__input",attrs:{type:"url"},domProps:{value:t.create.foto},on:{input:function(e){e.target.composing||t.$set(t.create,"foto",e.target.value)}}})])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-first_name"},[t._v(" "+t._s(t.lang[1])+": "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.first_name,expression:"create.first_name"}],staticClass:"create-edit-first_name__input",attrs:{required:"",type:"text"},domProps:{value:t.create.first_name},on:{input:function(e){e.target.composing||t.$set(t.create,"first_name",e.target.value)}}})])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-first_name"},[t._v(" "+t._s(t.lang[2])+": "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.last_name,expression:"create.last_name"}],staticClass:"create-edit-first_name__input",attrs:{type:"text"},domProps:{value:t.create.last_name},on:{input:function(e){e.target.composing||t.$set(t.create,"last_name",e.target.value)}}})])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-number"},[a("div",{class:"create-edit-number__label"},[t._v(" "+t._s(t.lang[7])+": "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.number,expression:"create.number"}],staticClass:"create-edit-number__input",attrs:{placeholder:"071-123-4567",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",required:"",type:"tel"},domProps:{value:t.create.number},on:{input:function(e){e.target.composing||t.$set(t.create,"number",e.target.value)}}})])])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-email"},[a("div",{class:"create-edit-email__label"},[a("span",{class:"create-edit-email__title"},[t._v(t._s(t.lang[3])+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.email,expression:"create.email"}],staticClass:"create-edit-email__input",attrs:{type:"email"},domProps:{value:t.create.email},on:{input:function(e){e.target.composing||t.$set(t.create,"email",e.target.value)}}})])])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-birsday"},[a("div",{class:"create-edit-birsday__label"},[a("span",{class:"create-edit-birsday__title"},[t._v(t._s(t.lang[4])+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.birsday,expression:"create.birsday"}],staticClass:"create-edit-birsday__input",attrs:{pattern:"[0-9]{2}/[0-9]{2}",type:"date"},domProps:{value:t.create.birsday},on:{input:function(e){e.target.composing||t.$set(t.create,"birsday",e.target.value)}}})])])]),a("hr",{staticClass:"create-edit-hr"}),a("div",{staticClass:"create-edit"},[a("div",{class:"create-edit-website"},[a("div",{class:"create-edit-website__label"},[a("span",{class:"create-edit-website__title"},[t._v(t._s(t.lang[5])+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.create.website,expression:"create.website"}],staticClass:"create-edit-website__input",attrs:{type:"text"},domProps:{value:t.create.website},on:{input:function(e){e.target.composing||t.$set(t.create,"website",e.target.value)}}})])])]),a("hr",{staticClass:"create-edit-hr"}),t._l(t.create.tags,(function(e,s){return[a("div",{key:s,staticClass:"create-edit-tags"},[a("div",{class:"create-edit-tags__label"},[a("span",[t._v(t._s(e))]),a("button",{staticClass:"create-edit-tags-remove__btn",attrs:{"data-name":e},on:{click:t.deleteTag}},[t._v("⛌")])])])]})),[a("div",{staticClass:"create-edit-tags-add"},[a("select",{staticClass:"create-edit-tags-select",on:{change:t.addTag}},[a("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[t._v("Добавить")]),t._l(t.contactTags,(function(e,s){return[-1===t.create.tags.indexOf(e)?a("option",{key:s},[t._v(t._s(e))]):t._e()]}))],2)])],a("hr",{staticClass:"create-edit-hr"}),t._m(0),"edit"==t.mode?a("div",{staticClass:"create-edit"},[a("div",{staticClass:"create-edit-submit"},[a("button",{staticClass:"remove create-edit-submit__btn",on:{click:function(e){return t.$emit("remove",t.contactid)}}},[t._v("Удалить")])])]):t._e()],2)},z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-edit"},[a("div",{staticClass:"create-edit-submit"},[a("button",{staticClass:"save create-edit-submit__btn",attrs:{type:"submit"}},[t._v("Сохранить")])])])}],A=(a("b0c0"),a("5319"),{data:function(){return{lang:["Id","Имя","Фамилия","E-mail","Дата рождения","Веб сайт","Фото","Номер"],create:{first_name:"",last_name:"",email:"",birsday:"",website:"",foto:"",number:"",tags:[]}}},props:{mode:String,contactid:{type:Number}},created:function(){this.fillCreateObj(),this.create.tags=this.create.tags?this.create.tags:[]},methods:{pushContact:function(t){t.preventDefault(),this.create.foto=""==this.create.foto?"":this.create.foto,this.create.birsday=this.create.birsday.replace(/-/g,"/"),"create"==this.mode?this.$store.commit("addNew",this.create):"edit"==this.mode&&(this.create.id=this.contactid,this.$store.commit("edit",this.create)),this.$emit("save")},addTag:function(t){this.create.tags=this.create.tags?this.create.tags:[],this.create.tags.push(t.target.value),t.target.options.selectedIndex=0},deleteTag:function(t){t.preventDefault(),this.create.tags.splice(this.create.tags.indexOf(t.target.dataset.name),1)},fillCreateObj:function(){var t=this;"edit"==this.mode?Object.keys(this.create).map((function(e){t.create[e]=t.$store.getters.getContactById(t.contactid)[e]})):"create"==this.mode&&Object.keys(this.create).map((function(e){t.create[e]=""}))}},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["addNew"])),Object(l["d"])(["contactTags"]))}),F=A,J=(a("3834"),Object(m["a"])(F,B,z,!1,null,"5e685a30",null)),q=J.exports,U={name:"App",components:{Nav:D,ContactsList:f,Contact:C,CreateEdit:q},data:function(){return{nav:{mode:"search",str:""},toOpen:{show:!1,id:0,mode:"create"}}},beforeCreate:function(){this.$store.commit("load")},computed:{contactListNull:function(){return this.$store.getters.getLength}},methods:{open:function(t){document.getElementsByClassName("nav")[0].scrollIntoView(),this.toOpen.id=t,this.toOpen.show=!0,this.listShow=!this.listShow,this.nav.mode="navigate"},back:function(){this.toOpen.show=!1,this.listShow=!this.listShow,this.nav.mode="search"},add:function(){this.toOpen.show=!0,this.nav.mode="add",this.toOpen.mode="create"},edit:function(){this.toOpen.show=!0,this.nav.mode="add",this.toOpen.mode="edit"},save:function(){this.toOpen.show=!1,this.nav.mode="search",this.$store.commit("save")},remove:function(t){this.toOpen.show=!1,this.nav.mode="search",this.$store.commit("remove",t),this.$store.commit("save")},sort:function(){this.$store.commit("nextSort")},filter:function(){this.$store.commit("nextFilter")}}},H=U,R=(a("7932"),Object(m["a"])(H,i,n,!1,null,"768162b2",null)),V=R.exports;s["a"].config.productionTip=!1,new s["a"]({store:E,render:function(t){return t(V)}}).$mount("#app")},"6b5a":function(t,e,a){},"75c5":function(t,e,a){},7932:function(t,e,a){"use strict";var s=a("d1c2"),i=a.n(s);i.a},b00f:function(t,e,a){"use strict";var s=a("3d8e"),i=a.n(s);i.a},ba60:function(t,e,a){"use strict";var s=a("6b5a"),i=a.n(s);i.a},bab6:function(t,e,a){"use strict";var s=a("75c5"),i=a.n(s);i.a},cbac:function(t,e,a){},d1c2:function(t,e,a){}});
//# sourceMappingURL=app.b108d41e.js.map